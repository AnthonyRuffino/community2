{"changed":true,"filter":false,"title":"server.js","tooltip":"/server.js","value":"//\n// # SimpleServer\n//\n// A simple chat server using Socket.IO, Express, and Async.\n//\nvar publicdir = __dirname + '/client';\n\nvar removeTrailingHtml = true;\n\nvar path = null;\n\nif(removeTrailingHtml === false){\n    path = require('path');\n}\n\n\n\nvar fs        = require('fs');\nvar http = require('http');\n\nvar https = null;\nvar useHttpsTemp = process.env.useHttps || null;\nvar useHttps = false;\n\nif(useHttpsTemp !== undefined && useHttpsTemp!= null && (useHttpsTemp === true || useHttpsTemp.toLowerCase() =='true')){\n    console.log('useHttps was set to true.');\n    useHttps = true;\n    https = require('https');\n}else{\n    console.log('useHttps was not set to true.');\n}\n\n\n\nvar async = require('async');\nvar socketio = require('socket.io');\nvar express = require('express');\n//var bcrypt = require('bcrypt');\n//var keyDel = require('key-del');\n\nvar guid = require('./utils/guid.js');\nvar strikeTemp = require('./beer/strikeTemp.js');\n//var sha256 = require('./client/js/hashing/sha256/sha256.js');\n\n//var chatSocketIOc9 = require('./client/app/chat.js');\nvar bcryptPlusClientShaChat = require('./client/app/bcryptPlusClientShaChat.js');\n\nvar socketIO_OnConnectionProvider = bcryptPlusClientShaChat;\n\nvar database = {};\n\nvar socketIOConnectionData = {};\nsocketIOConnectionData.async = async;\nsocketIOConnectionData.guidFactory = guid;\n//socketIOConnectionData.keyDel = keyDel;\n\nsocketIO_OnConnectionProvider.init(socketIOConnectionData);\n\nvar monty = require('./monty/monty.js');\n\n\n//var getIp = require('ipware')().get_ip;\nvar getIp = function getIp(req){\n    var ip = req.headers['x-forwarded-for'] || \n     req.connection.remoteAddress || \n     req.socket.remoteAddress ||\n     req.connection.socket.remoteAddress;\n     \n     var clientIp = {clientIp:ip};\n     \n     return clientIp;\n};\n\n\n\n\n//\n// ## SimpleServer `SimpleServer(obj)`\n//\n// Creates a new instance of SimpleServer with the following options:\n//  * `port` - The HTTP port to listen on. If `process.env.PORT` is set, _it overrides this value_.\n//\nvar router = express();\nrouter.use(express.bodyParser());\n\nvar server = null;\nvar secureServer = null;\n\n\nvar secureServerErr = null;\n\n\nif(useHttps === true && https != null){\n   try{\n       \n       var sslKeyFile = process.env.sslKeyFile || './ssl/domain-key.pem';\n       console.log('sslKeyFile: ' + sslKeyFile);\n       \n       var sslDomainCertFile = process.env.sslDomainCertFile || './ssl/domain.org.crt';\n       console.log('sslDomainCertFile: ' + sslDomainCertFile);\n       \n       var sslCaBundleFile = process.env.ssCaBundleFile || './ssl/bundle.crt';\n       console.log('sslCaBundleFile: ' + sslCaBundleFile);\n       \n       var certFileEncoding = 'utf8';\n       \n       \n       var ssl = {\n            key: fs.readFileSync(sslKeyFile, certFileEncoding),\n            cert: fs.readFileSync(sslDomainCertFile, certFileEncoding)\n        };\n        \n        if (fs.existsSync(sslCaBundleFile)) {\n            console.log('sslCaBundleFile found.');\n            \n            var ca, cert, chain, line, _i, _len;\n        \n            ca = [];\n        \n            chain = fs.readFileSync(sslCaBundleFile, certFileEncoding);\n        \n            chain = chain.split(\"\\n\");\n        \n            cert = [];\n        \n            for (_i = 0, _len = chain.length; _i < _len; _i++) {\n              line = chain[_i];\n                if (!(line.length !== 0)) {\n                    continue;\n                }\n                \n                cert.push(line);\n                \n                if (line.match(/-END CERTIFICATE-/)) {\n                  ca.push(cert.join(\"\\n\"));\n                  cert = [];\n                }\n            }\n        \n            ssl.ca = ca;\n        }\n        \n        secureServer = https.createServer(ssl, router);\n\n    }catch(err){\n        secureServerErr = \"Err1: \" + err;\n        console.log('Error creating https server: ' + err);\n    } \n}\n\n\n//////////////////////////\n//BEGIN SOCKET IO SETUP///\n//////////////////////////\nif(useHttps === true && secureServer != null){\n    socketio.listen(secureServer).on('connection', socketIO_OnConnectionProvider.onConnection);\n}\nelse{\n    if(server === undefined || server === null){\n        server = http.createServer(router);\n    }\n    socketio.listen(server).on('connection', socketIO_OnConnectionProvider.onConnection);\n}\n//////////////////////////\n//END SOCKET IO SETUP///\n//////////////////////////\n\n\n\n//////////////////////////\n//BEGIN MIDDLEWARE///\n//////////////////////////\n//This allows for navigation to html pages without the .html extension\nif(removeTrailingHtml === true || (path === undefined || path === null)){\n    router.use(function(req, res, next) {\n        if (req.path.indexOf('.') === -1) {\n            var file = publicdir + req.path + '.html';\n            fs.exists(file, function(exists) {\n              if (exists)\n                req.url += '.html';\n              next();\n            });\n        }\n        else{\n           next(); \n        }\n    });\n    router.use(express.static(publicdir));\n}else{\n    router.use(express.static(path.resolve(__dirname, 'client')));\n}\n//////////////////////////\n//END MIDDLEWARE///\n//////////////////////////\n\n\n\n\n////////////////////////////\n//BEGIN CONTROLLER ROUTES///\n////////////////////////////\nrouter.get('/api/secret', function(req, res) {\n    var secret = process.env.SECRET;\n    var secret2 = process.env.SECRET2;\n    res.json(200, {secret:secret,secret2:secret2});\n});\n\n\nrouter.get('/api/getUserSalts', function(req, res) {\n    var inputData = {};\n    inputData.userName = req.query.userName;\n    inputData.isClientCall = true;\n    res.json(200, socketIO_OnConnectionProvider.getUserSalts(inputData));\n});\n\nrouter.post('/api/auth', function(req, res) {\n\n    var newGuid = guid.generate(true);\n    \n    var authData = JSON.parse(req.body.bodyvalue);\n    \n    var auth = socketIO_OnConnectionProvider.authorize(authData.userName, authData.h3);\n    res.json(200, auth);\n    \n    res.json(200, auth);\n    \n});\n\nrouter.get('/api/montyStats', function(req, res) {\n    res.json(200, monty.getMontyStats(req.query.players, req.query.games));\n});\n\n\nrouter.get('/api/playMontyGame', function(req, res) {\n    res.json(200, monty.playMontyGame(req.query.doorNumber,req.query.doSwitch));\n});\n\nrouter.get('/api/secureServerErr', function(req, res) {\n    res.json(200, {secureServerErr:secureServerErr});\n});\n\nrouter.get('/api/guid', function(req, res) {\n    res.json(200, {guid:guid.generate(req.query.useDashes)});\n});\n\nrouter.get('/api/beer/striketemp', function(req, res) {\n    res.json(200, strikeTemp.calc(req.query.quarts, req.query.lbs, req.query.t1, req.query.t2));\n});\n\nrouter.get('/api/beer', function(req, res) {\n    res.json(200, { Message: 'Drink Beer' });\n});\n\nrouter.get('/api/data', function(req, res) {\n    var key = req.query.key;\n    var id = req.query.id;\n    \n    \n    if(database[key] === undefined){\n        res.json(404, { Message: \"No datasource named [\" + key + \"] was found.  Start it now!\"});    \n    }\n    else{\n        if(id === undefined){\n            res.json(200, database[key]);\n        }\n        else{\n            var item = database[key][id];\n            \n            if(item !== undefined){\n                res.json(200, item);\n            }\n            else{\n                res.json(404, { Message: \"No item with id [\"+id+\"] found in datasource with key [\" + key + \"].\"});\n            }\n        }\n    }\n});\n\nrouter.post('/api/data', function(req, res) {\n    var key = req.query.key;\n    if(database[key] === undefined){\n        database[key] = {};\n    }\n    var newGuid = guid.generate(true);\n    \n    database[key][newGuid] = JSON.parse(req.body.bodyvalue);\n    \n    res.json(200, { id: newGuid });\n    \n});\n\nrouter.delete('/api/data', function(req, res) {\n    var key = req.query.key;\n    var id = req.query.id;\n    \n    if(key === undefined){\n        res.json(404, { Message: \"No key parameter was specified.\"});\n    }\n    else if(id === undefined){\n        res.json(404, { Message: \"No id parameter was specified.\"});\n    }\n    else{\n    \n        if(database[key] === undefined){\n            res.json(404, { Message: \"No datasource named [\" + key + \"] was found.  Start it now.\"});    \n        }\n        else{\n            \n            if(database[key][id] !== undefined){\n                delete database[key][id];\n                res.json(200, { deleted: true });\n            }\n            else{\n                res.json(404, { Message: \"No item with id [\"+id+\"] found in datasource with key [\" + key + \"].\"});\n            }\n        }\n    }\n});\n//////////////////////////\n//END CONTROLLER ROUTES///\n//////////////////////////\n\n\n\n//////////////////////////\n//START UP SERVER(S)//////\n//////////////////////////\n\n//HTTPS\nif(secureServer != null){\n    try{\n        secureServer.listen(process.env.SECURE_PORT || 443, process.env.SECURE_IP || \"0.0.0.0\", function(){\n            var addr = secureServer.address();\n            console.log(\"Secure server listening at\", addr.address + \":\" + addr.port);\n        });\n    }\n    catch(err2){\n        console.log(\"Err: \" + err2);\n        secureServerErr = \"Err: \" + err2;\n    }\n}\n\n\nif(server === undefined || server === null){\n    server = http.createServer(router);\n}\n\n//HTTP\nserver.listen(process.env.PORT || 3000, process.env.IP || \"0.0.0.0\", function(){\n    var addr = server.address();\n    console.log(\"HTTP server listening at\", addr.address + \":\" + addr.port);\n});","undoManager":{"mark":47,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":38,"column":37},"end":{"row":38,"column":38},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":52},"end":{"row":38,"column":53},"action":"remove","lines":["+"]},{"start":{"row":38,"column":52},"end":{"row":38,"column":53},"action":"insert","lines":["<"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":54},"end":{"row":38,"column":55},"action":"remove","lines":["5"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":54},"end":{"row":38,"column":55},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":55},"end":{"row":38,"column":56},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":56},"end":{"row":38,"column":57},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":57},"end":{"row":38,"column":58},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":58},"end":{"row":38,"column":59},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":38,"column":58},"end":{"row":38,"column":59},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":32},"end":{"row":32,"column":40},"action":"remove","lines":["useHttps"]},{"start":{"row":32,"column":32},"end":{"row":32,"column":45},"action":"insert","lines":["numberExample"]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":35},"end":{"row":36,"column":36},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":36,"column":53},"end":{"row":36,"column":54},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":32,"column":52},"end":{"row":33,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":33,"column":0},"end":{"row":34,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":52},"action":"insert","lines":["var numberExample = process.env.numberExample || 24;"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":4},"end":{"row":34,"column":17},"action":"remove","lines":["numberExample"]},{"start":{"row":34,"column":4},"end":{"row":34,"column":5},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":5},"end":{"row":34,"column":6},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":6},"end":{"row":34,"column":7},"action":"insert","lines":["w"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":7},"end":{"row":34,"column":8},"action":"insert","lines":["N"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":8},"end":{"row":34,"column":9},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":9},"end":{"row":34,"column":10},"action":"insert","lines":["m"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":10},"end":{"row":34,"column":11},"action":"insert","lines":["b"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":11},"end":{"row":34,"column":12},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":12},"end":{"row":34,"column":13},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":16},"end":{"row":34,"column":48},"action":"remove","lines":["process.env.numberExample || 24;"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":16},"end":{"row":34,"column":29},"action":"insert","lines":["numberExample"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":29},"end":{"row":34,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":30},"end":{"row":34,"column":31},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":31},"end":{"row":34,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":32},"end":{"row":34,"column":33},"action":"insert","lines":["1"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":33},"end":{"row":34,"column":34},"action":"insert","lines":["0"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":34},"end":{"row":34,"column":35},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":40,"column":60},"end":{"row":41,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":0},"end":{"row":43,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":0},"end":{"row":43,"column":60},"action":"insert","lines":["console.log('numberExample < 100:' + (numberExample < 100));"]}]}],[{"group":"doc","deltas":[{"start":{"row":34,"column":0},"end":{"row":34,"column":35},"action":"remove","lines":["var newNumber = numberExample + 10;"]}]}],[{"group":"doc","deltas":[{"start":{"row":42,"column":0},"end":{"row":42,"column":35},"action":"insert","lines":["var newNumber = numberExample + 10;"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":13},"end":{"row":43,"column":26},"action":"remove","lines":["numberExample"]},{"start":{"row":43,"column":13},"end":{"row":43,"column":22},"action":"insert","lines":["newNumber"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":23},"end":{"row":43,"column":54},"action":"remove","lines":["< 100:' + (numberExample < 100)"]},{"start":{"row":43,"column":23},"end":{"row":43,"column":25},"action":"insert","lines":["''"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":24},"end":{"row":43,"column":25},"action":"remove","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":24},"end":{"row":43,"column":25},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":25},"end":{"row":43,"column":26},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":26},"end":{"row":43,"column":27},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":27},"end":{"row":43,"column":36},"action":"insert","lines":["newNumber"]}]}],[{"group":"doc","deltas":[{"start":{"row":43,"column":22},"end":{"row":43,"column":23},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":1},"end":{"row":43,"column":39},"action":"remove","lines":["","","var numberExample = process.env.numberExample || 24;","","","","console.log('numberExample:' + numberExample);","","console.log('numberExample + 5:' + (numberExample + 5));","","console.log('numberExample < 100:' + (numberExample < 100));","","var newNumber = numberExample + 10;","console.log('newNumber: ' + newNumber);"]}]}],[{"group":"doc","deltas":[{"start":{"row":30,"column":1},"end":{"row":31,"column":0},"action":"insert","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":330,"column":16},"end":{"row":331,"column":0},"action":"insert","lines":["",""]},{"start":{"row":331,"column":0},"end":{"row":331,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":8},"end":{"row":331,"column":82},"action":"insert","lines":["console.log(\"Secure server listening at\", addr.address + \":\" + addr.port);"]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":4},"end":{"row":331,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":0},"end":{"row":331,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":330,"column":16},"end":{"row":331,"column":0},"action":"remove","lines":["",""]}]}],[{"group":"doc","deltas":[{"start":{"row":330,"column":16},"end":{"row":331,"column":0},"action":"insert","lines":["",""]},{"start":{"row":331,"column":0},"end":{"row":331,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":4},"end":{"row":331,"column":8},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":0},"end":{"row":331,"column":4},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":0},"end":{"row":331,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":4},"end":{"row":331,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":332,"column":0},"end":{"row":332,"column":7},"action":"remove","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":332,"column":0},"end":{"row":332,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":332,"column":4},"end":{"row":332,"column":8},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":331,"column":20},"end":{"row":331,"column":80},"action":"remove","lines":["\"Secure server listening at\", addr.address + \":\" + addr.port"]},{"start":{"row":331,"column":20},"end":{"row":331,"column":34},"action":"insert","lines":["\"Err: \" + err2"]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":73},"end":{"row":96,"column":0},"action":"insert","lines":["",""]},{"start":{"row":96,"column":0},"end":{"row":96,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":7},"end":{"row":96,"column":58},"action":"insert","lines":["console.log('Error creating https server: ' + err);"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":58},"end":{"row":97,"column":0},"action":"insert","lines":["",""]},{"start":{"row":97,"column":0},"end":{"row":97,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":98,"column":87},"end":{"row":99,"column":0},"action":"insert","lines":["",""]},{"start":{"row":99,"column":0},"end":{"row":99,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":7},"end":{"row":99,"column":58},"action":"insert","lines":["console.log('Error creating https server: ' + err);"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":58},"end":{"row":100,"column":0},"action":"insert","lines":["",""]},{"start":{"row":100,"column":0},"end":{"row":100,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":101,"column":78},"end":{"row":102,"column":0},"action":"insert","lines":["",""]},{"start":{"row":102,"column":0},"end":{"row":102,"column":7},"action":"insert","lines":["       "]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":7},"end":{"row":102,"column":58},"action":"insert","lines":["console.log('Error creating https server: ' + err);"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":20},"end":{"row":96,"column":56},"action":"remove","lines":["Error creating https server: ' + err"]},{"start":{"row":96,"column":20},"end":{"row":96,"column":30},"action":"insert","lines":["sslKeyFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":30},"end":{"row":96,"column":31},"action":"insert","lines":["'"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":31},"end":{"row":96,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":32},"end":{"row":96,"column":33},"action":"insert","lines":["+"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":33},"end":{"row":96,"column":34},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":34},"end":{"row":96,"column":44},"action":"insert","lines":["sslKeyFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":7},"end":{"row":99,"column":58},"action":"remove","lines":["console.log('Error creating https server: ' + err);"]},{"start":{"row":99,"column":7},"end":{"row":99,"column":46},"action":"insert","lines":["console.log('sslKeyFile' + sslKeyFile);"]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":7},"end":{"row":102,"column":58},"action":"remove","lines":["console.log('Error creating https server: ' + err);"]},{"start":{"row":102,"column":7},"end":{"row":102,"column":46},"action":"insert","lines":["console.log('sslKeyFile' + sslKeyFile);"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":20},"end":{"row":99,"column":30},"action":"remove","lines":["sslKeyFile"]},{"start":{"row":99,"column":20},"end":{"row":99,"column":37},"action":"insert","lines":["sslDomainCertFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":37},"end":{"row":99,"column":38},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":38},"end":{"row":99,"column":39},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":30},"end":{"row":96,"column":31},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":96,"column":31},"end":{"row":96,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":30},"end":{"row":102,"column":31},"action":"insert","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":31},"end":{"row":102,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":20},"end":{"row":102,"column":30},"action":"remove","lines":["sslKeyFile"]},{"start":{"row":102,"column":20},"end":{"row":102,"column":35},"action":"insert","lines":["sslCaBundleFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":20},"end":{"row":99,"column":37},"action":"remove","lines":["sslDomainCertFile"]},{"start":{"row":99,"column":20},"end":{"row":99,"column":37},"action":"insert","lines":["sslDomainCertFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":99,"column":43},"end":{"row":99,"column":53},"action":"remove","lines":["sslKeyFile"]},{"start":{"row":99,"column":43},"end":{"row":99,"column":60},"action":"insert","lines":["sslDomainCertFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":102,"column":41},"end":{"row":102,"column":51},"action":"remove","lines":["sslKeyFile"]},{"start":{"row":102,"column":41},"end":{"row":102,"column":56},"action":"insert","lines":["sslCaBundleFile"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":12},"end":{"row":113,"column":63},"action":"insert","lines":["console.log('sslCaBundleFile: ' + sslCaBundleFile);"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":63},"end":{"row":114,"column":0},"action":"insert","lines":["",""]},{"start":{"row":114,"column":0},"end":{"row":114,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":40},"end":{"row":113,"column":41},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":41},"end":{"row":113,"column":42},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":42},"end":{"row":113,"column":43},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":43},"end":{"row":113,"column":44},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":44},"end":{"row":113,"column":45},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":45},"end":{"row":113,"column":46},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":46},"end":{"row":113,"column":47},"action":"remove","lines":[":"]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":46},"end":{"row":113,"column":47},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":47},"end":{"row":113,"column":48},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":113,"column":48},"end":{"row":113,"column":66},"action":"remove","lines":[" + sslCaBundleFile"]}]}]]},"ace":{"folds":[],"scrolltop":1787.2727,"scrollleft":0,"selection":{"start":{"row":133,"column":35},"end":{"row":133,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":114,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1420040469901}